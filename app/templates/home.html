<!DOCTYPE html>
<html class="h-screen overflow-hidden">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tailwind Teste</title>
    <link href="../static/output.css" rel="stylesheet">
</head>
<body class="bg-white h-full overflow-hidden text-white">
    <main class="flex min-h-screen">
    <!-- Coluna esquerda -->
    <div class="flex-1">
        <h2 id="leftheader" class="text-3xl  font-bold  p-6 bg-black">Generate Random Score</h2>
        <div class="flex items-center justify-center min-h-screen">
            <form action="{{ url_for('main.generate') }}" method="get">
                <button id="generateBtn" class="m-4 px-4 py-2 rounded bg-black hover:bg-gray-400 font-bold" type="submit">Generate Score</button>
            </form>
        </div>
    </div>

    <!-- Coluna central -->
    <div class="flex items-center justify-center bg-black shrink-0">

        <img src="../static/score.png" alt="Generated Score" class="" id="score">
    </div>

    <!-- Coluna direita -->
    <div class="flex-1">
        <h2 id="rightheader" class="text-3xl  font-bold p-6 bg-black">Toggle</h2>
        <div class="flex items-center justify-center min-h-screen">
            <button onclick="toggleTheme()" id="botao" class="m-4 px-4 py-2 bg-black  hover:bg-gray-400 rounded font-bold">Toggle Theme</button>
        </div>
    </div>
    </main>
    <script>
        function applyTheme(theme) {
            const body = document.body;
            const generateBtn = document.getElementById("generateBtn");
            const toggleBtn = document.getElementById("botao");
            const image = document.getElementById("score");
            const normal = "{{ url_for('static', filename='score.png') }}";
            const dark = "{{ url_for('static', filename='score_dark.png') }}";

            if (theme === "dark") {
                body.classList.remove("bg-white");
                body.classList.add("bg-black");

                toggleBtn.classList.remove("bg-black");
                toggleBtn.classList.add("bg-gray-500");

                generateBtn.classList.remove("bg-black");
                generateBtn.classList.add("bg-gray-500");

                image.src = dark;
            } else {
                body.classList.remove("bg-black");
                body.classList.add("bg-white");

                toggleBtn.classList.remove("bg-gray-500");
                toggleBtn.classList.add("bg-black");

                generateBtn.classList.remove("bg-gray-500");
                generateBtn.classList.add("bg-black");

                image.src = normal;
            }
        }

        function toggleTheme() {
            const current = localStorage.getItem("theme");
            const next = current === "dark" ? "light" : "dark";
            localStorage.setItem("theme", next);
            applyTheme(next);
        }

        window.onload = () => {
            const saved = localStorage.getItem("theme") || "light"; // padr√£o
            applyTheme(saved);
    };

    </script>
</body>
</html>